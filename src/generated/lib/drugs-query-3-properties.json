{
  "queryName": "drugs query 3",
  "table": {
    "schema": "drugs",
    "name": "drug"
  },
  "properties": [
    {
      "type": "qpm-field",
      "propertyName": "drugName",
      "sourceField": "name"
    },
    {
      "type": "qpm-field",
      "propertyName": "categoryCode",
      "sourceField": "category_code"
    },
    {
      "type": "qpm-field",
      "propertyName": "registeredByAnalyst",
      "sourceField": "short_name",
      "inlinedFromAncestorVia": [
        {
          "parent": {
            "schema": "drugs",
            "name": "analyst"
          },
          "fkFields": [
            "registered_by"
          ]
        }
      ]
    },
    {
      "type": "qpm-parent-ref",
      "referencePropertyName": "primaryCompound",
      "table": {
        "schema": "drugs",
        "name": "compound"
      },
      "properties": [
        {
          "type": "qpm-field",
          "propertyName": "compoundId",
          "sourceField": "id"
        },
        {
          "type": "qpm-field",
          "propertyName": "compoundDisplayName",
          "sourceField": "display_name"
        },
        {
          "type": "qpm-field",
          "propertyName": "enteredByAnalyst",
          "sourceField": "short_name",
          "inlinedFromAncestorVia": [
            {
              "parent": {
                "schema": "drugs",
                "name": "analyst"
              },
              "fkFields": [
                "entered_by"
              ]
            }
          ]
        },
        {
          "type": "qpm-field",
          "propertyName": "approvedByAnalyst",
          "sourceField": "short_name",
          "inlinedFromAncestorVia": [
            {
              "parent": {
                "schema": "drugs",
                "name": "analyst"
              },
              "fkFields": [
                "approved_by"
              ]
            }
          ]
        }
      ]
    }
  ]
}